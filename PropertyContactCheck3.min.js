const Name3=document.getElementById("username3"),Email3=document.getElementById("useremail3"),Phone3=document.getElementById("userphone3"),Message3=document.getElementById("usermessage3"),Propdetail3=document.getElementById("Propdetail3"),Form3=document.getElementById("PropContactform3"),SubmitButton3=document.getElementById("contactsubmit3"),csrftoken3=document.querySelector("[name=csrfmiddlewaretoken]").value,Namevalid3=document.getElementById("isnamevalid3"),Nameinvalid3=document.getElementById("isnameinvalid3"),Emailvalid3=document.getElementById("isemailvalid3"),Emailinvalid3=document.getElementById("isemailinvalid3"),Phonevalid3=document.getElementById("isphonevalid3"),Phoneinvalid3=document.getElementById("isphoneinvalid3"),Messagevalid3=document.getElementById("ismessagevalid3"),Messageinvalid3=document.getElementById("ismessageinvalid3"),SuccessAlert3=document.getElementById("issuccess3"),FailureAlert3=document.getElementById("isfailure3");SuccessAlert3.style.display="none",FailureAlert3.style.display="none",Namevalid3.style.display="none",Nameinvalid3.style.display="none",Emailvalid3.style.display="none",Emailinvalid3.style.display="none",Phonevalid3.style.display="none",Phoneinvalid3.style.display="none",Messagevalid3.style.display="none",Messageinvalid3.style.display="none";let validName3=!1,validEmail3=!1,validPhone3=!1,validMessage3=!1;function Refresh(){setTimeout(()=>{location.reload()},2e4)}Name3.addEventListener("blur",()=>{let e=Name3.value;/^[a-z\sA-z]{3,30}$/.test(e)?(Namevalid3.style.display="block",Nameinvalid3.style.display="none",validName3=!0):(Nameinvalid3.style.display="block",Namevalid3.style.display="none")}),Email3.addEventListener("blur",()=>{let e=Email3.value;/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)$/.test(e)?(Emailvalid3.style.display="block",Emailinvalid3.style.display="none",validEmail3=!0):(Emailvalid3.style.display="none",Emailinvalid3.style.display="block")}),Phone3.addEventListener("blur",()=>{let e=Phone3.value;/^[0-9]{10}$/.test(e)?(Phonevalid3.style.display="block",Phoneinvalid3.style.display="none",validPhone3=!0):(Phonevalid3.style.display="none",Phoneinvalid3.style.display="block")}),Message3.addEventListener("blur",()=>{let e=Message3.value;/[a-zA-Z]/.test(e)?(Messagevalid3.style.display="block",Messageinvalid3.style.display="none",validMessage3=!0):(Messagevalid3.style.display="none",Messageinvalid3.style.display="block")}),SubmitButton3.addEventListener("click",e=>{if(e.preventDefault(),validName3&&validEmail3&&validPhone3&&validMessage3){var l={Name:Name3.value,Email:Email3.value,Phone:Phone3.value,Message:Message3.value,Propdetail:Propdetail3.value};const e={method:"POST",body:JSON.stringify(l),headers:{"content-Type":"application/json","X-CSRFToken":csrftoken3}};fetch("/propertycontactdata/",e).then(e=>e.json()).then(e=>{1==e.success?(Form3.reset(),SuccessAlert3.style.display="block",FailureAlert3.style.display="none",Refresh()):0==e.success&&(Form3.reset(),FailureAlert3.style.display="block",SuccessAlert3.style.display="none",Refresh())}).catch(()=>{Form3.reset(),FailureAlert3.style.display="block",SuccessAlert3.style.display="none",Refresh()})}else Form3.reset(),FailureAlert3.style.display="block",SuccessAlert3.style.display="none",Refresh()});