const Name2=document.getElementById("username2"),Email2=document.getElementById("useremail2"),Phone2=document.getElementById("userphone2"),Message2=document.getElementById("usermessage2"),Propdetail2=document.getElementById("Propdetail2"),Form2=document.getElementById("PropContactform2"),SubmitButton2=document.getElementById("contactsubmit2"),csrftoken2=document.querySelector("[name=csrfmiddlewaretoken]").value,Namevalid2=document.getElementById("isnamevalid2"),Nameinvalid2=document.getElementById("isnameinvalid2"),Emailvalid2=document.getElementById("isemailvalid2"),Emailinvalid2=document.getElementById("isemailinvalid2"),Phonevalid2=document.getElementById("isphonevalid2"),Phoneinvalid2=document.getElementById("isphoneinvalid2"),Messagevalid2=document.getElementById("ismessagevalid2"),Messageinvalid2=document.getElementById("ismessageinvalid2"),SuccessAlert2=document.getElementById("issuccess2"),FailureAlert2=document.getElementById("isfailure2");SuccessAlert2.style.display="none",FailureAlert2.style.display="none",Namevalid2.style.display="none",Nameinvalid2.style.display="none",Emailvalid2.style.display="none",Emailinvalid2.style.display="none",Phonevalid2.style.display="none",Phoneinvalid2.style.display="none",Messagevalid2.style.display="none",Messageinvalid2.style.display="none";let validName2=!1,validEmail2=!1,validPhone2=!1,validMessage2=!1;function Refresh(){setTimeout(()=>{location.reload()},2e4)}Name2.addEventListener("blur",()=>{let e=Name2.value;/^[a-z\sA-z]{3,30}$/.test(e)?(Namevalid2.style.display="block",Nameinvalid2.style.display="none",validName2=!0):(Nameinvalid2.style.display="block",Namevalid2.style.display="none")}),Email2.addEventListener("blur",()=>{let e=Email2.value;/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)$/.test(e)?(Emailvalid2.style.display="block",Emailinvalid2.style.display="none",validEmail2=!0):(Emailvalid2.style.display="none",Emailinvalid2.style.display="block")}),Phone2.addEventListener("blur",()=>{let e=Phone2.value;/^[0-9]{10}$/.test(e)?(Phonevalid2.style.display="block",Phoneinvalid2.style.display="none",validPhone2=!0):(Phonevalid2.style.display="none",Phoneinvalid2.style.display="block")}),Message2.addEventListener("blur",()=>{let e=Message2.value;/[a-zA-Z]/.test(e)?(Messagevalid2.style.display="block",Messageinvalid2.style.display="none",validMessage2=!0):(Messagevalid2.style.display="none",Messageinvalid2.style.display="block")}),SubmitButton2.addEventListener("click",e=>{if(e.preventDefault(),validName2&&validEmail2&&validPhone2&&validMessage2){var l={Name:Name2.value,Email:Email2.value,Phone:Phone2.value,Message:Message2.value,Propdetail:Propdetail2.value};const e={method:"POST",body:JSON.stringify(l),headers:{"content-Type":"application/json","X-CSRFToken":csrftoken2}};fetch("/propertycontactdata/",e).then(e=>e.json()).then(e=>{1==e.success?(Form2.reset(),SuccessAlert2.style.display="block",FailureAlert2.style.display="none",Refresh()):0==e.success&&(Form2.reset(),FailureAlert2.style.display="block",SuccessAlert2.style.display="none",Refresh())}).catch(()=>{Form2.reset(),FailureAlert2.style.display="block",SuccessAlert2.style.display="none",Refresh()})}else Form2.reset(),FailureAlert2.style.display="block",SuccessAlert2.style.display="none",Refresh()});